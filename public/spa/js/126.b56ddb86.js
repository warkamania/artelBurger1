"use strict";(self["webpackChunk_1"]=self["webpackChunk_1"]||[]).push([[126],{6126:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ne});var a=l(9835),s=l(6970),r=l(1957);const i=e=>((0,a.dD)("data-v-34bb4bd4"),e=e(),(0,a.Cn)(),e),o={class:"q-pa-md row items-start"},n={class:"col-12",id:"id"},d={class:"row"},c={class:"col-10 text-white text-h6"},u={"col-2":""},m={class:"row"},p={class:"col-4"},h=["src"],w={class:"col-8 text-white text-h6"},C={class:"row"},_={class:"col-2"},y={class:"col-2"},g={class:"col-2"},f=i((()=>(0,a._)("div",{class:"col-3 text-white text-h6"},"Цена:",-1))),b={class:"col-3 price"},v={class:"fit row wrap items-end content-end justify-end"},k=i((()=>(0,a._)("div",{class:"col-9",style:{color:"white","font-size":"25px"}}," Стоимость заказ: ",-1))),q={class:"col-3 price"},W={class:"fit row wrap items-end content-end justify-end"},O=i((()=>(0,a._)("div",{class:"col-9 textGradient12",style:{"font-size":"22px"}}," начислим бонусов: ",-1))),V={class:"col-3 textGradient12",style:{"font-size":"22px"}},H=i((()=>(0,a._)("br",null,null,-1))),x={class:"fit row wrap justify-center items-end self-end"},S=(0,a.Uk)("Оформить заказ"),I={class:"row"},Z={class:"col-12"},D=i((()=>(0,a._)("br",null,null,-1))),j=i((()=>(0,a._)("br",null,null,-1))),z={class:"fit row wrap justify-center items-end self-end"},Q=(0,a.Uk)("Отправить"),U={class:"row"},N={class:"col-12"},P=i((()=>(0,a._)("img",{src:"check_circle_outline_black_48dp.svg",alt:"",class:"fit row justify-center"},null,-1))),M={style:{color:"white"}};function T(e,t,l,i,T,J){const B=(0,a.up)("q-btn"),$=(0,a.up)("q-input"),G=(0,a.up)("q-card-section"),R=(0,a.up)("q-card"),E=(0,a.up)("q-intersection"),F=(0,a.up)("q-icon"),K=(0,a.up)("q-select"),L=(0,a.up)("q-dialog"),Y=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Y,null,{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.Card.length,(e=>((0,a.wg)(),(0,a.j4)(E,{key:e,once:"",transition:"scale"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(R,{class:"my-card bg-black"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",c,(0,s.zw)(e),1),(0,a._)("div",u,[(0,a.Wm)(B,{flat:"",icon:"close",class:"items-end",color:"white",onClick:J.deleteCard},null,8,["onClick"])])]),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("img",{src:J.parseImg,class:"",alt:""},null,8,h)]),(0,a._)("div",w,(0,s.zw)(J.parseTitle),1)]),(0,a._)("div",C,[(0,a._)("div",_,[(0,a.Wm)(B,{flat:"",icon:"remove",color:"white",onClick:J.CounterMinus},null,8,["onClick"])]),(0,a._)("div",y,[(0,a.Wm)($,{dense:"",dark:"",color:"red",outlined:"",modelValue:J.quantitys,"onUpdate:modelValue":t[0]||(t[0]=e=>J.quantitys=e),type:"number",class:"fit row wrap justify-center"},null,8,["modelValue"])]),(0,a._)("div",g,[(0,a.Wm)(B,{flat:"",icon:"add",color:"white",onClick:J.CounterPlus},null,8,["onClick"])]),f,(0,a._)("div",b,(0,s.zw)(J.parsePrice*J.quantitys)+" р",1)])])),_:1})])),_:2},1536),[[r.F8,i.Open]])])),_:2},1024)))),128))])]),(0,a._)("div",v,[k,(0,a._)("div",q,(0,s.zw)(J.parsePrice*i.Card.length*J.quantitys)+" р",1)]),(0,a._)("div",W,[O,(0,a._)("div",V,"+ "+(0,s.zw)(J.Bonus),1)]),H,(0,a._)("div",x,[(0,a.Wm)(B,{color:"red",onClick:t[1]||(t[1]=e=>i.alert=!0)},{default:(0,a.w5)((()=>[S])),_:1})]),(0,a.Wm)(L,{modelValue:i.alert,"onUpdate:modelValue":t[6]||(t[6]=e=>i.alert=e)},{default:(0,a.w5)((()=>[(0,a._)("div",I,[(0,a._)("div",Z,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"bg-black"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{dark:"",standout:"","bottom-slots":"",modelValue:i.adres,"onUpdate:modelValue":t[3]||(t[3]=e=>i.adres=e),label:"Адрес доставки",counter:"",readonly:e.readonly,disable:e.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(F,{name:"place"})])),append:(0,a.w5)((()=>[(0,a.Wm)(F,{name:"close",onClick:t[2]||(t[2]=t=>e.text=""),class:"cursor-pointer"})])),_:1},8,["modelValue","readonly","disable"]),D,(0,a.Wm)($,{type:"tel",dark:"",standout:"","bottom-slots":"",modelValue:i.tel,"onUpdate:modelValue":t[4]||(t[4]=e=>i.tel=e),label:"Номер телефона",counter:"",readonly:e.readonly,disable:e.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(F,{name:"phone"})])),_:1},8,["modelValue","readonly","disable"]),(0,a.Wm)(K,{dark:"",modelValue:i.payment,"onUpdate:modelValue":t[5]||(t[5]=e=>i.payment=e),options:i.options,label:"Способ оплаты",color:"red"},null,8,["modelValue","options"]),j,(0,a._)("div",z,[(0,a.Wm)(B,{color:"red",onClick:J.addCard},{default:(0,a.w5)((()=>[Q])),_:1},8,["onClick"])])])),_:1})])),_:1})])])])),_:1},8,["modelValue"]),(0,a.Wm)(L,{modelValue:i.Order,"onUpdate:modelValue":t[7]||(t[7]=e=>i.Order=e)},{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a._)("div",N,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"bg-black"},{default:(0,a.w5)((()=>[P,(0,a._)("h5",M,"Ваш заказ №"+(0,s.zw)(J.numberOrder)+" принят",1)])),_:1})])),_:1})])])])),_:1},8,["modelValue"])])),_:1})}var J=l(499),B=l(9302),$=l(4987),G=l(3100),R=l(9981),E=l.n(R);const F={setup(){(0,G.oR)(),(0,B.Z)();return{alert:(0,J.iH)(!1),payment:(0,J.iH)(""),options:["Онлайн","Картой при получении","Наличными при получении"],Order:(0,J.iH)(!1),tel:(0,J.iH)(""),adres:(0,J.iH)(""),menu:(0,J.iH)([]),count:(0,J.iH)(null),number:(0,J.iH)(0),title:(0,J.iH)(""),price:(0,J.iH)(null),id:(0,J.iH)(null),quantity:(0,J.iH)(1),Open:(0,J.iH)(!0),Card:(0,J.iH)([]),date:(0,J.iH)(Date)}},async mounted(){if(localStorage.getItem("Card"))try{this.Card=JSON.parse(localStorage.getItem("Card"))}catch(e){localStorage.removeItem("Card")}},updated(){if(localStorage.getItem("Card"))try{this.Card=JSON.parse(localStorage.getItem("Card"))}catch(e){localStorage.removeItem("Card")}},computed:{numberOrder(){const e=this.number.length+1;return e},parseTitle(){return this.Card.length>0?this.Card[0].title:""},parseImg(){return this.Card.length>0?this.Card[0].img:""},parsePrice(){return Math.floor(this.Card.length>0?this.Card[0].price:"")},DataNow(){return(new Date).toLocaleString("ru-RU",{timeZone:"Europe/Moscow"})},Bonus(){return Math.round(this.parsePrice*this.Card.length*.03)},quantitys(){return this.$store.state.quantity},adds(){return this.Card.length>0?this.Card.options:""}},methods:{Close(){this.Open=!1},CounterPlus(){this.$store.commit("increment")},CounterMinus(){this.$store.commit("dicrement"),0==this.quantitys&&this.deleteCard()},OpdenOrder(){},persist(){this.Card.push({tel:this.tel,adres:this.adres,payment:this.payment,quantity:this.quantity,numberOrder:this.numberOrder,options:this.adds}),this.saveCard(),setTimeout((()=>{this.deleteCard()}),1e4)},saveCard(){const e=JSON.stringify(this.Card);localStorage.setItem("Card",e)},deleteCard(){const e=JSON.stringify(this.Card);localStorage.clear("Card",e),this.Card=[],this.Open=!1},async addCard(){let e={adres:this.adres,count:this.quantity,payment:this.payment,price:this.price,tel:this.tel,title:this.parseTitle,date:this.DataNow};const t="Наименование: "+this.parseTitle+"   Колличество: "+this.quantity+"   Оплата: "+this.payment+"    Адрес: "+this.adres+"   Телефон: "+this.tel+"   Сумма: "+this.price+"  Дата"+this.DataNow;let l={to:"warkamania5@yandex.ru",subject:"Доставка",text:t},a=await E().post("http://localhost:3000/",l),s=a.data1;console.log(s),$["default"].collection("Card").add(e).then((e=>{console.log("Document written with ID: ",e.id)})).catch((e=>{console.error("Ошибка добавления: ",e)})),this.deleteCard(),this.newCurdContent="",console.log("Корзина  сохранена"),this.Order=!0,this.alert=!1},inddex(){Console.log(this.Card.length[-1])}}};var K=l(1639),L=l(9885),Y=l(1517),A=l(4458),X=l(8879),ee=l(3190),te=l(6611),le=l(7743),ae=l(2857),se=l(6764),re=l(9984),ie=l.n(re);const oe=(0,K.Z)(F,[["render",T],["__scopeId","data-v-34bb4bd4"]]),ne=oe;ie()(F,"components",{QPage:L.Z,QIntersection:Y.Z,QCard:A.Z,QBtn:X.Z,QCardSection:ee.Z,QInput:te.Z,QDialog:le.Z,QIcon:ae.Z,QSelect:se.Z})}}]);