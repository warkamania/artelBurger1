(self["webpackChunk_1"]=self["webpackChunk_1"]||[]).push([[934],{3744:(t,e,s)=>{"use strict";s.d(e,{A:()=>l});var a=s(1809);const l=(0,a.Q_)("counter",{state:()=>({quantity:1,options:{1:"котлета из мраморной говядины (+90 ₽)",2:"котлета свиная (+80 ₽)",3:"котлета куриная (+70 ₽)",4:"сыр Чеддер (+30 ₽)",5:"окорок прошутто (+80 ₽)",6:"яйцо на гриле (+30 ₽)",7:"перец халапеньо (+50 ₽)",8:"бекон (+70 ₽)",9:"соус шрирача (+50 ₽)"},optionsPrice:{1:90,2:80,3:70,4:30,5:80,6:30,7:50,8:70,9:50},sauce:{1:"Томатный соус",2:"Сливочный соус"},menu:"",summa:0,Card:[]}),actions:{increment(t){t.quantity++},dicrement(t){t.quantity--},clickMenu(t){t.menu="Меню"}}})},9434:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>ct});var a=s(9835),l=s(6970),o=s(1957);const n=t=>((0,a.dD)("data-v-809a9a68"),t=t(),(0,a.Cn)(),t),i={class:"q-pa-md row items-start"},r={class:"col-12",id:"id"},d={class:"row"},c={class:"col-10 text-white text-h6"},u={"col-2":""},m={class:"row"},p={class:"col-4"},h=["src"],C={class:"col-8 text-white text-h6"},w={class:"row"},y={class:"col-2"},_={class:"col-2"},f={class:"col-2"},g=n((()=>(0,a._)("div",{class:"col-3 text-white text-h6"},"Цена:",-1))),v={class:"col-3 price"},k={class:"fit row wrap items-end content-end justify-end"},b=n((()=>(0,a._)("div",{class:"col-9",style:{color:"white","font-size":"25px"}}," Стоимость заказ: ",-1))),q={class:"col-3 price"},V={class:"fit row wrap items-end content-end justify-end"},W=n((()=>(0,a._)("div",{class:"col-9 textGradient12",style:{"font-size":"22px"}}," начислим бонусов: ",-1))),H={class:"col-3 textGradient12",style:{"font-size":"22px"}},O=n((()=>(0,a._)("br",null,null,-1))),P={class:"fit row wrap justify-center items-end self-end"},T=(0,a.Uk)("Оформить заказ"),x={class:"row"},I={class:"col-12"},U=n((()=>(0,a._)("br",null,null,-1))),Z=n((()=>(0,a._)("br",null,null,-1))),S={class:"fit row wrap justify-center items-end self-end"},j=(0,a.Uk)("Оплатить"),D=n((()=>(0,a._)("div",{id:"payment-form"},null,-1))),Q={class:"row"},z={class:"col-12"},A=n((()=>(0,a._)("img",{src:"check_circle_outline_black_48dp.svg",alt:"",class:"fit row justify-center"},null,-1))),M=n((()=>(0,a._)("h5",{style:{color:"white"}},"Ваш заказ принят",-1)));function N(t,e,s,n,N,B){const R=(0,a.up)("q-btn"),G=(0,a.up)("q-input"),J=(0,a.up)("q-card-section"),Y=(0,a.up)("q-card"),E=(0,a.up)("q-intersection"),K=(0,a.up)("q-icon"),F=(0,a.up)("q-select"),L=(0,a.up)("q-dialog"),X=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(X,null,{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.Cards,((t,e)=>((0,a.wg)(),(0,a.j4)(E,{key:t,once:"",transition:"scale"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(Y,{class:"my-card bg-black"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",c,(0,l.zw)(e+1),1),(0,a._)("div",u,[(0,a.Wm)(R,{flat:"",icon:"close",class:"items-end",color:"white",onClick:t=>B.deleteCard(e)},null,8,["onClick"])])]),(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("img",{src:B.mapImg[e],class:"",alt:""},null,8,h)]),(0,a._)("div",C,(0,l.zw)(B.mapTitles[e]),1)]),(0,a._)("div",w,[(0,a._)("div",y,[(0,a.Wm)(R,{flat:"",icon:"remove",color:"white",onClick:t=>B.CounterMinus(e)},null,8,["onClick"])]),(0,a._)("div",_,[(0,a.Wm)(G,{dense:"",dark:"",color:"red",outlined:"",modelValue:B.mapCount[e],"onUpdate:modelValue":t=>B.mapCount[e]=t,type:"number",class:"fit row wrap justify-center"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",f,[(0,a.Wm)(R,{flat:"",icon:"add",color:"white",onClick:t=>B.CounterPlus(e)},null,8,["onClick"])]),g,(0,a._)("div",v,(0,l.zw)(B.mapPrice[e]*B.mapCount[e])+" р",1)])])),_:2},1024)])),_:2},1536),[[o.F8,n.Open]])])),_:2},1024)))),128))])]),(0,a._)("div",k,[b,(0,a._)("div",q,(0,l.zw)(B.totalPrice)+" р ",1)]),(0,a._)("div",V,[W,(0,a._)("div",H,"+ "+(0,l.zw)(B.Bonus),1)]),O,(0,a._)("div",P,[(0,a.Wm)(R,{color:"red",onClick:e[0]||(e[0]=t=>n.alert=!0)},{default:(0,a.w5)((()=>[T])),_:1})]),(0,a.Wm)(L,{modelValue:n.alert,"onUpdate:modelValue":e[6]||(e[6]=t=>n.alert=t)},{default:(0,a.w5)((()=>[(0,a._)("div",x,[(0,a._)("div",I,[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(J,{class:"bg-black"},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{dark:"",standout:"","bottom-slots":"",modelValue:n.adres,"onUpdate:modelValue":e[2]||(e[2]=t=>n.adres=t),label:"Адрес доставки",counter:"",readonly:t.readonly,disable:t.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"place"})])),append:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"close",onClick:e[1]||(e[1]=e=>t.text=""),class:"cursor-pointer"})])),_:1},8,["modelValue","readonly","disable"]),U,(0,a.Wm)(G,{type:"tel",dark:"",standout:"","bottom-slots":"",modelValue:n.tel,"onUpdate:modelValue":e[3]||(e[3]=t=>n.tel=t),label:"Номер телефона",counter:"",readonly:t.readonly,disable:t.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"phone"})])),_:1},8,["modelValue","readonly","disable"]),(0,a.Wm)(F,{dark:"",modelValue:n.payment,"onUpdate:modelValue":e[4]||(e[4]=t=>n.payment=t),options:n.options,label:"Способ оплаты",color:"red"},null,8,["modelValue","options"]),Z,(0,a._)("div",S,[(0,a.Wm)(R,{color:"red",onClick:e[5]||(e[5]=t=>(B.addCard,B.paymentRendered()))},{default:(0,a.w5)((()=>[j])),_:1})])])),_:1})])),_:1})])])])),_:1},8,["modelValue"]),(0,a.Wm)(L,{modelValue:n.pay,"onUpdate:modelValue":e[7]||(e[7]=t=>n.pay=t)},{default:(0,a.w5)((()=>[D])),_:1},8,["modelValue"]),(0,a.Wm)(L,{modelValue:n.Order,"onUpdate:modelValue":e[8]||(e[8]=t=>n.Order=t)},{default:(0,a.w5)((()=>[(0,a._)("div",Q,[(0,a._)("div",z,[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(J,{class:"bg-black"},{default:(0,a.w5)((()=>[A,M])),_:1})])),_:1})])])])),_:1},8,["modelValue"])])),_:1})}var B=s(499),R=(s(4987),s(9981)),G=s.n(R),J=s(3744),Y=(s(1470),s(4409)),E=s.n(Y);var K=s(320);const F={setup(){const t=(0,J.A)(),e=()=>t.increment(),s=()=>t.dicrement();return{alert:(0,B.iH)(!1),payment:(0,B.iH)(""),options:["Онлайн","Картой при получении","Наличными при получении"],Order:(0,B.iH)(!1),tel:(0,B.iH)(""),adres:(0,B.iH)(""),menu:(0,B.iH)([]),count:(0,B.iH)(null),number:(0,B.iH)(0),title:(0,B.iH)(""),price:(0,B.iH)(null),id:(0,B.iH)(null),quantity:(0,B.iH)(1),Open:(0,B.iH)(!0),Cards:(0,B.iH)([]),date:(0,B.iH)(Date),pay:(0,B.iH)(!1),result:[],Confrimm:(0,B.iH)(null),confrimToken:(0,B.iH)(null),url:(0,B.iH)(""),store:t,incrementCount:e,decrementCount:s}},async mounted(){this.Cards=this.store.Card,this.store.summa=this.totalPrice,localStorage.setItem("Card",JSON.stringify(this.Cards))},updated(){this.Cards=JSON.parse(localStorage.getItem("Card")),this.store.summa=this.totalPrice},watch:{sum1(){this.store.summa=this.totalPrice}},computed:{numberOrder(){const t=this.number.length+1;return t},parseTitle(){return this.Cards.length>0?this.Cards[0].title:""},parseImg(){return this.Cards.length>0?this.Cards[0].img:""},DataNow(){return(new Date).toLocaleString("ru-RU",{timeZone:"Europe/Moscow"})},Bonus(){return Math.round(.03*this.totalPrice)},quantitys(){return this.store.quantity},adds(){return this.Cards.length>0?this.Cards.options:""},option(){return this.Cards.length>0?this.Cards[0].option:""},sum(){return this.mapPrice[0]*this.Cards.length*this.quantitys},totalPrice(){let t=[];if(this.Cards.length){for(let e in this.mapCount)t.push(this.mapPrice[e]*this.mapCount[e]);return t=t.reduce(((t,e)=>t+e)),t}return 0},mapTitles(){return E().map(this.Cards,"title")},mapPrice(){return E().map(this.Cards,"price")},mapImg(){return E().map(this.Cards,"img")},mapId(){return E().map(this.Cards,"id")},mapCount(){return E().map(this.Cards,"count")},IdempotenceKey(){return(0,K.Z)()}},methods:{Close(){this.Open=!1},CounterPlus(t){this.store.quantity++,this.store.Card[t].count++},CounterMinus(t){this.store.quantity--,this.store.Card[t].count--,0==this.quantitys&&deleteCard(t)},OpdenOrder(){},persist(){this.Cards.push({tel:this.tel,adres:this.adres,payment:this.payment,quantity:this.quantity,numberOrder:this.numberOrder,options:this.adds}),this.saveCard(),setTimeout((()=>{this.deleteCard()}),1e4)},saveCard(){const t=JSON.stringify(this.Cards);localStorage.setItem("Card",t)},deleteCard(t){this.Cards.splice(t,1)},async addCard(){this.adres,this.quantity,this.payment,this.sum,this.tel,this.parseTitle,this.DataNow,this.option,this.adds;const t=!0,e="Наименование: "+this.parseTitle+",   Колличество:  "+this.quantity+"\nОплата:  "+this.payment+",   Сумма:  "+this.sum+"\n Адрес:  "+this.adres+",   Телефон:   "+this.tel+",   Дата:   "+this.DataNow;let s={to:"warkamania5@yandex.ru",subject:"Доставка из мобильного приложения",body:e},a=await G().post("http://80.240.250.157:1728/send-email",s,{crossDomain:t}),l=a.data1;console.log(l),this.deleteCard(),this.newCurdContent="",console.log("Корзина  сохранена"),this.Order=!0,this.alert=!1},Paymentt(){const t=YooMoneyCheckout(317549);t.tokenize({number:"4793128161644804",cvc:"333",month:"01",year:"30"}).then((t=>{if("success"===t.status){const{paymentToken:e}=t.data.response;return this.token=e,console.log(e),e}}))},paymentRendered(){this.alert=!1,this.pay=!0,this.Confirmation(),setTimeout((()=>{const t=new window.YooMoneyCheckoutWidget({confirmation_token:this.confrimToken,return_url:"https://artel5-9ggd.vercel.app/#/CardApp",error_callback:function(t){console.log(t)}});t.render("payment-form")}),3e3)},Confirmation(){const t=!0;let e={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS","Access-Control-Allow-Credentials":!0,crossDomain:t}};const s={amount:{value:this.totalPrice,currency:"RUB"}},a=G().post("http://localhost:1728/pay",s,e).then((t=>{this.confrimToken=t.data,console.log(this.confrimToken)})).catch((t=>{console.log(t)}));console.log(a)}}};var L=s(1639),X=s(9885),$=s(1517),tt=s(4458),et=s(8879),st=s(3190),at=s(6611),lt=s(7743),ot=s(2857),nt=s(6764),it=s(9984),rt=s.n(it);const dt=(0,L.Z)(F,[["render",N],["__scopeId","data-v-809a9a68"]]),ct=dt;rt()(F,"components",{QPage:X.Z,QIntersection:$.Z,QCard:tt.Z,QBtn:et.Z,QCardSection:st.Z,QInput:at.Z,QDialog:lt.Z,QIcon:ot.Z,QSelect:nt.Z})},4654:()=>{}}]);