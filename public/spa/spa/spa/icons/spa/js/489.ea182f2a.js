"use strict";(self["webpackChunk_1"]=self["webpackChunk_1"]||[]).push([[489],{5489:(e,t,l)=>{l.r(t),l.d(t,{default:()=>se});var a=l(9835),r=l(6970),s=l(1957);const o=e=>((0,a.dD)("data-v-23eaaed1"),e=e(),(0,a.Cn)(),e),i={class:"q-pa-md row items-start"},d={class:"col-12",id:"id"},n={class:"row"},c={class:"col-10 text-white text-h6"},u={"col-2":""},m={class:"row"},p={class:"col-4"},h=["src"],w={class:"col-8 text-white text-h6"},C={class:"row"},_={class:"col-2"},y={class:"col-2"},g={class:"col-2"},f=o((()=>(0,a._)("div",{class:"col-3 text-white text-h6"},"Цена:",-1))),v={class:"col-3 price"},b={class:"fit row wrap items-end content-end justify-end"},k=o((()=>(0,a._)("div",{class:"col-9",style:{color:"white","font-size":"25px"}}," Стоимость заказ: ",-1))),q={class:"col-3 price"},W={class:"fit row wrap items-end content-end justify-end"},O=o((()=>(0,a._)("div",{class:"col-9 textGradient12",style:{"font-size":"22px"}}," начислим бонусов: ",-1))),V={class:"col-3 textGradient12",style:{"font-size":"22px"}},H=o((()=>(0,a._)("br",null,null,-1))),S={class:"fit row wrap justify-center items-end self-end"},x=(0,a.Uk)("Оформить заказ"),I={class:"row"},Z={class:"col-12"},D=o((()=>(0,a._)("br",null,null,-1))),U=o((()=>(0,a._)("br",null,null,-1))),j={class:"fit row wrap justify-center items-end self-end"},z=(0,a.Uk)("Отправить"),Q={class:"row"},B={class:"col-12"},P=o((()=>(0,a._)("img",{src:"check_circle_outline_black_48dp.svg",alt:"",class:"fit row justify-center"},null,-1))),A={style:{color:"white"}};function N(e,t,l,o,N,F){const M=(0,a.up)("q-btn"),T=(0,a.up)("q-input"),E=(0,a.up)("q-card-section"),J=(0,a.up)("q-card"),G=(0,a.up)("q-intersection"),K=(0,a.up)("q-icon"),L=(0,a.up)("q-select"),R=(0,a.up)("q-dialog"),Y=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Y,null,{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.Card.length,(e=>((0,a.wg)(),(0,a.j4)(G,{key:e,once:"",transition:"scale"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(J,{class:"my-card bg-black"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",c,(0,r.zw)(e),1),(0,a._)("div",u,[(0,a.Wm)(M,{flat:"",icon:"close",class:"items-end",color:"white",onClick:F.deleteCard},null,8,["onClick"])])]),(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("img",{src:F.parseImg,class:"",alt:""},null,8,h)]),(0,a._)("div",w,(0,r.zw)(F.parseTitle),1)]),(0,a._)("div",C,[(0,a._)("div",_,[(0,a.Wm)(M,{flat:"",icon:"remove",color:"white",onClick:F.CounterMinus},null,8,["onClick"])]),(0,a._)("div",y,[(0,a.Wm)(T,{dense:"",dark:"",color:"red",outlined:"",modelValue:o.quantity,"onUpdate:modelValue":t[0]||(t[0]=e=>o.quantity=e),label:"",type:"number",class:"fit row wrap justify-center"},null,8,["modelValue"])]),(0,a._)("div",g,[(0,a.Wm)(M,{flat:"",icon:"add",color:"white",onClick:F.CounterPlus},null,8,["onClick"])]),f,(0,a._)("div",v,(0,r.zw)(F.parsePrice*o.quantity)+" р",1)])])),_:1})])),_:2},1536),[[s.F8,o.Open]])])),_:2},1024)))),128))])]),(0,a._)("div",b,[k,(0,a._)("div",q,(0,r.zw)(F.parsePrice*o.Card.length)+" р",1)]),(0,a._)("div",W,[O,(0,a._)("div",V,"+ "+(0,r.zw)(F.Bonus),1)]),H,(0,a._)("div",S,[(0,a.Wm)(M,{color:"red",onClick:t[1]||(t[1]=e=>o.alert=!0)},{default:(0,a.w5)((()=>[x])),_:1})]),(0,a.Wm)(R,{modelValue:o.alert,"onUpdate:modelValue":t[6]||(t[6]=e=>o.alert=e)},{default:(0,a.w5)((()=>[(0,a._)("div",I,[(0,a._)("div",Z,[(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"bg-black"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{dark:"",standout:"","bottom-slots":"",modelValue:o.adres,"onUpdate:modelValue":t[3]||(t[3]=e=>o.adres=e),label:"Адрес доставки",counter:"",readonly:e.readonly,disable:e.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"place"})])),append:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"close",onClick:t[2]||(t[2]=t=>e.text=""),class:"cursor-pointer"})])),_:1},8,["modelValue","readonly","disable"]),D,(0,a.Wm)(T,{type:"tel",dark:"",standout:"","bottom-slots":"",modelValue:o.tel,"onUpdate:modelValue":t[4]||(t[4]=e=>o.tel=e),label:"Номер телефона",counter:"",readonly:e.readonly,disable:e.disable,color:"red"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{name:"phone"})])),_:1},8,["modelValue","readonly","disable"]),(0,a.Wm)(L,{dark:"",modelValue:o.payment,"onUpdate:modelValue":t[5]||(t[5]=e=>o.payment=e),options:o.options,label:"Способ оплаты",color:"red"},null,8,["modelValue","options"]),U,(0,a._)("div",j,[(0,a.Wm)(M,{color:"red",onClick:F.addCard},{default:(0,a.w5)((()=>[z])),_:1},8,["onClick"])])])),_:1})])),_:1})])])])),_:1},8,["modelValue"]),(0,a.Wm)(R,{modelValue:o.Order,"onUpdate:modelValue":t[7]||(t[7]=e=>o.Order=e)},{default:(0,a.w5)((()=>[(0,a._)("div",Q,[(0,a._)("div",B,[(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"bg-black"},{default:(0,a.w5)((()=>[P,(0,a._)("h5",A,"Ваш заказ №"+(0,r.zw)(F.numberOrder)+" принят",1)])),_:1})])),_:1})])])])),_:1},8,["modelValue"])])),_:1})}var F=l(499),M=l(9302),T=l(4987);const E={setup(){return(0,M.Z)(),{alert:(0,F.iH)(!1),payment:(0,F.iH)(""),options:["Онлайн","Картой при получении","Наличными при получении"],Order:(0,F.iH)(!1),tel:(0,F.iH)(""),adres:(0,F.iH)(""),menu:(0,F.iH)([]),count:(0,F.iH)(null),number:(0,F.iH)(0),title:(0,F.iH)(""),price:(0,F.iH)(null),id:(0,F.iH)(null),quantity:(0,F.iH)(1),Open:(0,F.iH)(!0),Card:(0,F.iH)([]),date:(0,F.iH)(Date)}},async mounted(){if(localStorage.getItem("Card"))try{this.Card=JSON.parse(localStorage.getItem("Card"))}catch(e){localStorage.removeItem("Card")}},updated(){if(localStorage.getItem("Card"))try{this.Card=JSON.parse(localStorage.getItem("Card"))}catch(e){localStorage.removeItem("Card")}},computed:{numberOrder(){const e=this.number.length+1;return e},parseTitle(){return this.Card.length>0?this.Card[0].title:""},parseImg(){return this.Card.length>0?this.Card[0].img:""},parsePrice(){return Math.floor(this.Card.length>0?this.Card[0].price:"")},DataNow(){return(new Date).toLocaleString("ru-RU",{timeZone:"Europe/Moscow"})},Bonus(){return Math.round(this.parsePrice*this.Card.length*.03)}},methods:{Close(){this.Open=!1},CounterPlus(){this.quantity++},CounterMinus(){this.quantity--,0==this.quantity&&this.deleteCard()},OpdenOrder(){},persist(){this.Card.push({tel:this.tel,adres:this.adres,payment:this.payment,quantity:this.quantity,numberOrder:this.numberOrder}),this.saveCard(),setTimeout((()=>{this.deleteCard()}),1e4)},saveCard(){const e=JSON.stringify(this.Card);localStorage.setItem("Card",e)},deleteCard(){const e=JSON.stringify(this.Card);localStorage.clear("Card",e),this.Card=[],this.Open=!1},addCard(){let e={adres:this.adres,count:this.quantity,payment:this.payment,price:this.price,tel:this.tel,title:this.parseTitle,date:this.DataNow};T["default"].collection("Card").add(e).then((e=>{console.log("Document written with ID: ",e.id)})).catch((e=>{console.error("Ошибка добавления: ",e)})),Email.send({Host:"smtp.elasticemail.com",Username:"warkamania5@gmail.com",Password:"0ABEB4A8BA1AF0CFEDBD8ACF6371C450A629",To:"warkamania5@yandex.ru",From:"warkamania5@gmail.com",Subject:"Доставка Артель",Body:e}),this.deleteCard(),this.newCurdContent="",console.log("Корзина  сохранена "),this.Order=!0,this.alert=!1},inddex(){Console.log(this.Card.length[-1])}}};var J=l(1639),G=l(9885),K=l(1517),L=l(4458),R=l(8879),Y=l(3190),X=l(6611),$=l(7743),ee=l(2857),te=l(6764),le=l(9984),ae=l.n(le);const re=(0,J.Z)(E,[["render",N],["__scopeId","data-v-23eaaed1"]]),se=re;ae()(E,"components",{QPage:G.Z,QIntersection:K.Z,QCard:L.Z,QBtn:R.Z,QCardSection:Y.Z,QInput:X.Z,QDialog:$.Z,QIcon:ee.Z,QSelect:te.Z})}}]);